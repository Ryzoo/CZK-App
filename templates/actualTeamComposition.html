<div ng-init="setPerm(['KOORD','TRENER', 'ZAWODNIK'])"></div>

<div class="section">
    <div ng-show='showContent' class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-content">
                    <div class="card-title">
                        Ławka rezerwowych
                    </div>
                    <div class="row">
                        <table class="table highlight" ng-init="getTeam()">
                            <thead>
                                <tr>
                                    <th style="text-align:center;">Imię</th>
                                    <th style="text-align:center;">Nazwisko</th>
                                    <th style="text-align:center;">Numer na koszulce</th>
                                    <th style="text-align:center;" ng-show="user.role != 'ZAWODNIK' ">Pozycja</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="us in positions[0].users" class='row'>
                                    <td style="text-align: center;">{{us.firstname}}</td>
                                    <td style="text-align: center;">{{us.lastname}}</td>
                                    <td style="text-align: center; padding: 0px">
                                        <div class="input-field col" style="text-align: center; padding: 0 5px; margin: 0">
                                            <input style="text-align: center; margin: 0" ng-show="user.role != 'ZAWODNIK' " id='changeNumber' class='changeNumber' id='changeNumber-{{us.tmmid}}-0' type="text" value="{{us.nr_on_tshirt}}" required>
                                        </div>
                                        <p ng-show="user.role == 'ZAWODNIK'  ">{{us.nr_on_tshirt}}</p>
                                    </td>
                                    <td style="text-align: center; padding: 0px" ng-show="user.role != 'ZAWODNIK' ">
                                        <div class="input-field col " style="text-align: center; padding: 0 5px; margin: 0">
                                            <select class='selectPosition' id="selectPosition-{{us.tmmid}}-0" style="text-align: center; margin: 0">
                                                <option style="text-align: center;" ng-repeat="pos in positions" value="{{pos.id}}" ng-selected="{{pos.id == us.id_position}}">{{pos.name}}</option>
                                                <label>Materialize Select</label>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <div class="card">
                <div class="card-content">
                    <div class="card-title">
                        Aktualny skład
                    </div>
                    <div class="row">
                        <table class="table highlight">
                            <thead>
                                <tr>
                                    <th style="text-align:center;">Imię</th>
                                    <th style="text-align:center;">Nazwisko</th>
                                    <th style="text-align:center;">Numer na koszulce</th>
                                    <th style="text-align:center;" ng-show="user.role != 'ZAWODNIK' ">Pozycja</th>
                                </tr>
                            </thead>
                        </table>
                        <div ng-repeat="posit in positions | limitTo:50:1">
                            <div class='titleIn'> {{posit.name}}</div>
                            <table class="table highlight">
                                <tbody>
                                    <tr ng-repeat="us in posit.users" class='row'>
                                        <td style="text-align: center;">{{us.firstname}}</td>
                                        <td style="text-align: center;">{{us.lastname}}</td>
                                        <td style="text-align: center; padding: 0px">
                                            <div class="input-field col" style="text-align: center; padding: 0 5px; margin: 0">
                                                <input style="text-align: center; margin: 0" ng-show="user.role != 'ZAWODNIK' " id='changeNumber' class='changeNumber' id='changeNumber-{{us.tmmid}}-0' type="text" value="{{us.nr_on_tshirt}}" required>
                                            </div>
                                            <p ng-show="user.role == 'ZAWODNIK'  ">{{us.nr_on_tshirt}}</p>
                                        </td>
                                        <td style="text-align: center; padding: 0px" ng-show="user.role != 'ZAWODNIK' ">
                                            <div class="input-field col " style="text-align: center; padding: 0 5px; margin: 0">
                                                <select class='selectPosition' id="selectPosition-{{us.tmmid}}-{{posit.id}}" style="text-align: center; margin: 0">
                                                    <option style="text-align: center;" ng-repeat="pos in positions" value="{{pos.id}}" ng-selected="{{pos.id == us.id_position}}">{{pos.name}}</option>
                                                    <label>Materialize Select</label>
                                                </select>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-hide='showContent' style="position:relative; margin-top:15%; width: 60%; margin-left: auto; margin-right: auto;">
        <h3 style='text-align:center;'>Wczytywanie zawartości...</h3>
        <div class="preloader-wrapper big active" style="margin-left: 45%">
            <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
</div>