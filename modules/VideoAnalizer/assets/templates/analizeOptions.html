<div ng-init="setPerm(['KOORD','TRENER','STAFF'])"></div>
<div class="section paymentSection" ng-init="initOptionsVid()">
    <div ng-show='showContent' class="row">
        <div class="col s12 m10 offset-m1" ng-hide='showVideoPlayer'>
            <div class="card">
                <div class="card-content">
                    <div class="card-title">Ustawienia analizy wideo</div>
                    <div class="row">
                        <h5>Ikony szybkiego wyboru</h5>
                        <p>Przypisz ikonom tekst według własnego upodobania. Ikony nie podpisane nie będą widoczne przy analizie.</p>

                        <form id='iconAdderForm' enctype="multipart/form-data">
                            <input type="hidden" name="token" value="{{user.token}}">
                            <div class="file-field input-field">
                                <div class="btn" style='float: none'>
                                    <span>Dodaj nową ikonę</span>
                                    <input id='iconAdder' type="file" accept="image/*" name="iconFile">
                                </div>
                            </div>
                        </form>

                        <table class="table centered striped highlight">
                            <thead>
                                <tr>
                                    <th>Ikona</th>
                                    <th>Tekst powiązany</th>
                                    <th>Usuń</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="icon in iconList">
                                    <td><img src="{{icon.url}}" alt="ikona"></td>
                                    <td>
                                        <input type="text" class='iconInput' id='icon-{{icon.id}}' value='{{icon.description}}'>
                                    </td>
                                    <td>
                                        <span style='cursor: pointer; padding: 10px;' ng-click="deleteIcon(icon.id)"><i class="fa fa-times fa-fw" aria-hidden="true"></i></span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-hide='showContent' class='loaderContainer'>
        <div id="loader-wrapper">
            <div id="loader"></div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        setTimeout(function() {
            Materialize.updateTextFields();
            $('select').material_select();
            $('ul.tabs').tabs();
            $('.collapsible').collapsible();
            $('.datetimepicker').datetimepicker({
                format: 'Y/m/d',
                lang: 'pl',
                timepicker: false,
            });
        }, 500);
    });
</script>
