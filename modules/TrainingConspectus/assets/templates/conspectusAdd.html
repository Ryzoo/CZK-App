<div ng-init="setPerm(['STAFF','TRENER','KOORD'])"></div>
<div class="section" ng-init="initConspectusAdd()">
    <div ng-show='showContent' class="row">
        <div class="col s12">
            <div class="card">
                <div class="card-content" ng-controller='conspectusCreatorController'>
                    <div class="card-title">Tworzenie nowego konspektu</div>
                    <div class="row">
                        <div class="col s12">
                            <div class="form-group">
                                <div class="row">
                                    <div class="input-field col s12 m6">
                                        <input id='coName' type="text" placeholder="Tytuł" value='{{coName}}' class="validate" required>
                                        <label for="coName">Tytuł</label>
                                    </div>
                                    <div class="input-field col s12 m6">
                                        <input id='coMaster' type="text" placeholder="Trener" value='{{coMaster}}' class="validate" required>
                                        <label for="coMaster">Trener</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="input-field col s12 m6">
                                        <input id='coDate' class='datetimepicker' type="text" placeholder="Data" value='{{coDate}}' class="validate" required>
                                        <label for="coDate">Data</label>
                                    </div>
                                    <div class="input-field col s12 m6">
                                        <input id='coSezon' type="text" placeholder="Sezon" value='{{coSezon}}' class="validate" required>
                                        <label for="coSezon">Sezon</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="input-field col s12 m6">
                                        <input id='coTeam' type="text" placeholder="Drużyna / kategoria wiekowa" value='{{coTeam}}' class="validate" required>
                                        <label for="coTeam">Drużyna / kategoria wiekowa</label>
                                    </div>
                                    <div class="input-field col s12 m6">
                                        <textarea id="coOp" placeholder="Opis" class="materialize-textarea " data-length="255">{{coOp}}</textarea>
                                        <label for="coOp">Opis</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="input-field col s12">
                                        <div id='coTags' style='margin-top: 10px;' class="chips chips-placeholder"></div>
                                        <label for="coTags">Powiązane słowa kluczowe</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ul class="collapsible" data-collapsible="accordion" style='margin: 0 20px;'>
                        <li>
                            <div class="collapsible-header active"><i class="material-icons">filter_drama</i>Część wstępna</div>
                            <div id='coStart' class="collapsible-body conspectBodyCol">
                                <div class="data">
                                </div>
                                <div class="actions">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="input-field col s12 m5">
                                                <button type="button" class="waves-effect waves-light btn" ng-click="addSimpleFieldCo('coStart');">proste pole + </button>
                                            </div>
                                            <div class="input-field col s12 m7">
                                                <input type="text" id="autocomplete-start" class="autocomplete">
                                                <label for="autocomplete-start">Lub wpisz nazwę ćwiczenia do dodania</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="collapsible-header"><i class="material-icons">place</i>Część główna</div>
                            <div id='coMiddle' class="collapsible-body conspectBodyCol">
                                <div class="data">
                                </div>
                                <div class="actions">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="input-field col s12 m5">
                                                <button type="button" class="waves-effect waves-light btn" ng-click="addSimpleFieldCo('coMiddle');">proste pole + </button>
                                            </div>
                                            <div class="input-field col s12 m7">
                                                <input type="text" id="autocomplete-middle" class="autocomplete">
                                                <label for="autocomplete-middle">Lub wpisz nazwę ćwiczenia do dodania</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="collapsible-header"><i class="material-icons">whatshot</i>Część końcowa</div>
                            <div id='coEnd' class="collapsible-body conspectBodyCol">
                                <div class="data">
                                </div>
                                <div class="actions">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="input-field col s12 m5">
                                                <button type="button" class="waves-effect waves-light btn" ng-click="addSimpleFieldCo('coEnd');">proste pole + </button>
                                            </div>
                                            <div class="input-field col s12 m7">
                                                <input type="text" id="autocomplete-end" class="autocomplete">
                                                <label for="autocomplete-end">Lub wpisz nazwę ćwiczenia do dodania</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div class="row">
                        <div class="form-group">
                            <div class="row">
                                <div class="input-field col s12">
                                    <button type="button" class="waves-effect waves-light btn" ng-click="saveConspect();">Zapisz</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-hide='showContent' style="position:relative; margin-top:15%; width: 60%; margin-left: auto; margin-right: auto;">
        <h3 style='text-align:center;'>Wczytywanie zawartości...</h3>
        <div class="preloader-wrapper big active" style="margin-left: 45%">
            <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('.datetimepicker').datetimepicker({
            format: 'Y:m:d',
            lang: 'pl',
            timepicker: false,
        });
        Materialize.updateTextFields();
        $('.chips-placeholder').material_chip({
            placeholder: ' + Kolejne',
            secondaryPlaceholder: 'Wpisz powiązane słowa kluczowe',
        });
    });
</script>